<DOCTYPE html>
	<head>
		 <link rel="stylesheet" href="styles.css">
	        <h>Виды снега </h>
	</head>

	<body>
	        <p class="citation">Когда вы имеете дело с проблемой или трудностью, старайтесь сделать эту затею <strong>интересной</strong>. Тогда вы сможете сосредоточиться на интересной стороне дела и не обращать внимания на тяжелую работу, которую предстоит проделать. Например, можно не только писать текст, но и раскрашивать его по-всякому. </p>

	        <p>А вот это самый обычный, нудный, не раскрашенный CSS-ом абзац.</p>

	<input type="button" id="get_data" value="Get data from DB!" onclick="getData()">

	<div id="response"></div>
	<div id="values"></div>
	<script>
		// Формируем JSON с SQL-командой
	const body = {
		"transaction": [
		{
		"query": "SELECT * FROM TEST_TABLE ORDER BY ID ASC"
		},
		]
	};

	// Эта функция автоматически вызовется, когда получим ответ
	function printResponse() {
		if (xhr.readyState === 4 && xhr.status === 200) {
			var json = JSON.parse(xhr.responseText);
			// и вот здесь формировать HTML ответа
			d = document.getElementById("response");
			d.innerHTML = xhr.responseText;
			let s = "";
			let resultSet = json["results"][0]["resultSet"]
			for (pair of resultSet) {
				s += pair["VAL"] + "\n<br/>"
			}
			d2 = document.getElementById("values");
			d2.innerHTML = s;
		}
	}

	// Делаем запрос
	var xhr = new XMLHttpRequest();
	var url = "http://176.124.209.11:12321/testDb";
	xhr.open("POST", url, true);
	xhr.setRequestHeader("Content-Type", "application/json");
	// Указываем функцию, которая будет вызвана, когда будет получен ответ
	xhr.onreadystatechange = printResponse;

	xhr.send(JSON.stringify(body));

	</script>
	</body>
<html>

